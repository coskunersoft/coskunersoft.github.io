<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram WebApp Test</title>
</head>
<body>
    <h1>Telegram WebApp Test</h1>
    <button id="sendBtn">Veriyi Gönder</button>

    <div id="log"></div>

    <script>const log = (msg) => {
      const div = document.createElement("div");
      div.textContent = msg;
      document.getElementById("log").appendChild(div);
      console.log(msg);
    }

    const sendData = () => {
      const data = {
        action: "buy",
        product: "sword"
      };

      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.sendData(JSON.stringify(data));
        log("Veri gönderildi: " + JSON.stringify(data));
      } else {
        log("Telegram WebApp bulunamadý!");
      }
    }

    document.getElementById("sendBtn").addEventListener("click", sendData);

    // WebApp hazýr olunca loglayalým
    window.addEventListener("DOMContentLoaded", () => {
      if (window.Telegram && Telegram.WebApp) {
        log("Telegram WebApp hazýr!");
      } else {
        log("Telegram WebApp henüz hazýr deðil!");
      }
    });</script>
</body>
</html>
